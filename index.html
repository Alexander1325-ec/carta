<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carta en Sobre</title>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    *,
    *::after,
    *::before {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }

    :root {
      --dark-color: #1a0b2e;
      --card-color: #fff;
      --text-color: #333;
      --flower-color: #ff6f61;
      --petal-color: #ff9a8b;
      --envelope-color: #e63946; /* Color rojo para el sobre */
      --button-color: #ffffff;
    }

    body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background-color: var(--dark-color);
      overflow: hidden;
      font-family: 'Caveat', cursive;
    }

    .envelope-container {
      position: relative;
      width: 60vmin;
      height: 80vmin;
      perspective: 1000px;
    }

    .envelope {
      position: relative;
      width: 100%;
      height: 100%;
      background-color: var(--envelope-color);
      border-radius: 2vmin;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      overflow: hidden;
    }

    .envelope-flap {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 40%;
      background-color: var(--envelope-color);
      clip-path: polygon(0 0, 50% 100%, 100% 0);
      transform-origin: top;
      transition: transform 0.8s ease-in-out;
      z-index: 10;
    }

    .envelope-container.open .envelope-flap {
      transform: rotateX(-180deg);
    }

    .card {
      position: absolute;
      top: 8%;
      width: 92%;
      height: 84%;
      left: 4%;
      background-color: var(--card-color);
      border-radius: 2vmin;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
      transform-style: preserve-3d;
      transition: transform 0.8s ease-in-out 0.2s, opacity 0.8s ease-in-out 0.2s;
      opacity: 0.3;
    }

    .envelope-container.open .card {
      transform: translateY(-20%) rotateY(180deg);
      opacity: 1;
    }

    .card-front,
    .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      border-radius: 2vmin;
    }

    .card-front {
      transform: rotateY(0deg);
      font-size: 5vmin;
      color: var(--text-color);
    }

    .card-back {
      transform: rotateY(180deg);
      font-size: 3vmin;
      color: var(--text-color);
      position: relative;
      overflow-y: auto;
      padding: 4vmin;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
    }

    .card-front p {
      margin: 2vmin 0;
    }

    .card-back p {
      margin: 1.5vmin 0;
      line-height: 1.3;
      text-align: justify;
      max-width: 92%;
      animation: fadeIn 1s ease-in forwards;
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
        transform: translateY(20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .flower {
      position: absolute;
      bottom: 3vmin;
      right: 3vmin;
      width: 8vmin;
      height: 8vmin;
      transform: scale(0.8);
      animation: bloom 2s ease-in forwards;
    }

    .flower__petal {
      position: absolute;
      width: 4vmin;
      height: 6vmin;
      background-color: var(--petal-color);
      border-radius: 50% 50% 0 0;
      transform-origin: bottom center;
    }

    .flower__petal--1 {
      transform: rotate(0deg) translateY(-1.5vmin);
      animation: petalBloom 1s 0.5s ease-in forwards;
    }

    .flower__petal--2 {
      transform: rotate(90deg) translateY(-1.5vmin);
      animation: petalBloom 1s 0.6s ease-in forwards;
    }

    .flower__petal--3 {
      transform: rotate(180deg) translateY(-1.5vmin);
      animation: petalBloom 1s 0.7s ease-in forwards;
    }

    .flower__petal--4 {
      transform: rotate(270deg) translateY(-1.5vmin);
      animation: petalBloom 1s 0.8s ease-in forwards;
    }

    .flower__center {
      position: absolute;
      width: 2.5vmin;
      height: 2.5vmin;
      background-color: var(--flower-color);
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: centerBloom 1s 1s ease-in forwards;
    }

    @keyframes petalBloom {
      0% {
        transform: scale(0) rotate(0deg);
        opacity: 0;
      }
      100% {
        transform: scale(1) rotate(var(--rotate, 0deg));
        opacity: 1;
      }
    }

    @keyframes centerBloom {
      0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
      }
      100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
    }

    @keyframes bloom {
      0% {
        transform: scale(0);
        opacity: 0;
      }
      100% {
        transform: scale(0.8);
        opacity: 1;
      }
    }

    .card-back::-webkit-scrollbar {
      width: 1vmin;
    }

    .card-back::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.1);
      border-radius: 1vmin;
    }

    .card-back::-webkit-scrollbar-thumb {
      background: var(--flower-color);
      border-radius: 1vmin;
    }

    .open-button {
      margin-top: 2vmin;
      font-family: 'Caveat', cursive;
      font-size: 4vmin;
      padding: 1vmin 2vmin;
      background-color: rgba(255, 255, 255, 0.2);
      border: 2px solid var(--button-color);
      border-radius: 10px;
      color: var(--button-color);
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .open-button:hover {
      background-color: rgba(255, 255, 255, 0.4);
    }
  </style>
</head>
<body>
  <div class="envelope-container">
    <div class="envelope">
      <div class="envelope-flap"></div>
      <div class="card">
        <div class="card-front">
          <p>Para: Mi princesa</p>
          <p>De: El ingeniero</p>
        </div>
        <div class="card-back">
          <p>Hoy quiero escribirte estas palabras desde lo más profundo de mi corazón. A veces, el tiempo y la vida no me dejan decirte con calma todo lo que siento, pero quiero que lo sepas ahora, y que lo recuerdes siempre: tú eres lo más importante para mí.</p>
          <p>Desde que llegaste a mi vida, todo cambió para bien. Tu presencia ha llenado mis días de luz, de sentido, de amor. Eres mi alegría, mi refugio, mi paz, mi motivación. Por eso te lo digo con total sinceridad: no quiero perderte jamás. Solo imaginarlo me parte el alma, me dolería más de lo que las palabras pueden expresar.</p>
          <p>No olvides nunca que te amo con todo lo que soy, con cada pensamiento, con cada suspiro, con cada parte de mi ser. Eres lo más valioso que tengo en esta vida, y por ti soy capaz de todo. Mi amor por ti no tiene condiciones ni límites, es verdadero, profundo y eterno.</p>
          <p>Quiero que sepas que siempre estaré contigo, en los buenos y en los malos momentos. A tu lado, apoyándote, cuidándote, celebrando tus logros y sosteniéndote cuando las cosas no salgan como esperas. Porque ese es el compromiso que nace del amor: estar, quedarse, luchar juntos.</p>
          <p>Gracias por existir, por ser como eres, por permitirme amarte. No me cansaré de repetírtelo: te amo, y mi mayor deseo es construir una vida hermosa a tu lado.</p>
          <div class="flower">
            <div class="flower__petal flower__petal--1"></div>
            <div class="flower__petal flower__petal--2"></div>
            <div class="flower__petal flower__petal--3"></div>
            <div class="flower__petal flower__petal--4"></div>
            <div class="flower__center"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <button class="open-button" onclick="openCard()">Abrir la carta</button>
  <audio id="backgroundMusic" loop>
    <source src="tequiero.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
  </audio>
  <script>
    const audio = document.getElementById('backgroundMusic');
    const envelope = document.querySelector('.envelope-container');
    const openButton = document.querySelector('.open-button');

    function openCard() {
      envelope.classList.toggle('open');
      if (audio.paused) {
        audio.play().catch(error => {
          console.log('Error al reproducir el audio:', error);
        });
      }
    }
  </script>
</body>
</html>
